<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SLY Transportation Services</title>

<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>SLY TRANSPORTATION SERVICES</h1>
  <p>Car Rentals</p>
</header>

<!-- ================= SLIDESHOW ================= -->
<div class="slider">

  <img src="IMG_0025.jpeg" class="slide active" alt="Toyota Camry">
  <img src="IMG_0026.jpeg" class="slide" alt="Slingshot">
  <img src="IMG_4486.jpeg" class="slide" alt="Slingshot">
  <img src="IMG_4532.jpeg" class="slide" alt="Slingshot">
  <img src="IMG_4533.jpeg" class="slide" alt="Slingshot">
  <img src="IMG_4534.jpeg" class="slide" alt="Slingshot">

  <button class="nav prev" onclick="changeSlide(-1)">❮</button>
  <button class="nav next" onclick="changeSlide(1)">❯</button>

</div>

<div class="container">

  <!-- ================= VEHICLE PREVIEW ================= -->
  <div class="vehicle-preview">
    <img id="vehicleImage" src="IMG_0025.jpeg" alt="Selected vehicle">
    <h3 id="vehicleName">2012 Toyota Camry</h3>
  </div>

  <div class="requirements">
    ALL RENTERS MUST HAVE A VALID DRIVER’S LICENSE AND RENTERS INSURANCE
  </div>

  <!-- ================= BOOKING FORM ================= -->
  <label for="pickup">Pick‑up Date & Time</label>
  <input type="datetime-local" id="pickup">

  <label for="dropoff">Drop‑off Date & Time</label>
  <input type="datetime-local" id="dropoff">

  <label for="vehicle">Select Vehicle</label>
  <select id="vehicle">
    <option
      value="2012 Toyota Camry"
      data-price="50"
      data-image="IMG_0025.jpeg"
      selected>
      2012 Toyota Camry – $50/day
    </option>

    <option
      value="2023 Slingshot R"
      data-price="300"
      data-image="IMG_0026.jpeg">
      2023 Slingshot R – $300/day
    </option>
  </select>

  <div class="price" id="totalPrice">$0.00</div>

  <button onclick="book()">Book via WhatsApp</button>

</div>

<script>
/* ================= SLIDESHOW ================= */
const slides = document.querySelectorAll(".slide");
let slideIndex = 0;
let slideTimer;

function showSlide(index) {
  slides.forEach(slide => slide.classList.remove("active"));
  slideIndex = (index + slides.length) % slides.length;
  slides[slideIndex].classList.add("active");
}

function changeSlide(direction) {
  showSlide(slideIndex + direction);
  resetTimer();
}

function resetTimer() {
  clearInterval(slideTimer);
  slideTimer = setInterval(() => {
    showSlide(slideIndex + 1);
  }, 6000);
}

showSlide(0);
resetTimer();

/* ================= VEHICLE CHANGE ================= */
const vehicleSelect = document.getElementById("vehicle");
const vehicleImage = document.getElementById("vehicleImage");
const vehicleName = document.getElementById("vehicleName");

vehicleSelect.addEventListener("change", () => {
  const selected = vehicleSelect.options[vehicleSelect.selectedIndex];
  vehicleImage.src = selected.dataset.image;
  vehicleName.textContent = selected.value;
});

/* ================= BOOKING ================= */
function book() {
  const pickupValue = document.getElementById("pickup").value;
  const dropoffValue = document.getElementById("dropoff").value;

  if (!pickupValue || !dropoffValue) {
    alert("Please select pickup and drop-off date and time.");
    return;
  }

  const pickup = new Date(pickupValue);
  const dropoff = new Date(dropoffValue);

  if (dropoff <= pickup) {
    alert("Drop-off must be after pickup.");
    return;
  }

  const days = Math.ceil((dropoff - pickup) / (1000 * 60 * 60 * 24));
  const selected = vehicleSelect.options[vehicleSelect.selectedIndex];
  const pricePerDay = selected.dataset.price;
  const total = days * pricePerDay;

  document.getElementById("totalPrice").textContent = $${total}.00;

  const message =
    Booking Request:%0A +
    Vehicle: ${selected.value}%0A +
    Days: ${days}%0A +
    Total: $${total};

  window.open(`https://wa.me/12139166606?text=${message}`, "_blank");
}
</script>

</body>
</html>
