<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SLY Transportation Services</title>

  <!-- Flatpickr Calendar CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Main CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Business Header -->
  <div class="business-header">
    <div class="business-name">SLY TRANSPORTATION SERVICES</div>
    <div class="business-tagline">Car Rentals</div>
  </div>

  <!-- Image Slider -->
  <div class="slider">
    <img src="IMG_0025.jpeg" class="slide active" alt="Vehicle 1">
    <img src="IMG_0026.jpeg" class="slide" alt="Vehicle 2">
    <img src="IMG_4486.jpeg" class="slide" alt="Vehicle 3">
  </div>

  <!-- Booking Form -->
  <div class="booking-box">
    <form id="bookingForm">

      <label for="pickup">Pick‑up Date</label>
      <input type="text" id="pickup" required>

      <label for="dropoff">Drop‑off Date</label>
      <input type="text" id="dropoff" required>

      <label for="vehicle">Select Vehicle</label>
      <select id="vehicle">
        <option value="Toyota Corolla" data-price="60">Toyota Corolla – $60/day</option>
        <option value="Nissan Rogue" data-price="85">Nissan Rogue – $85/day</option>
        <option value="Hyundai Elantra" data-price="70">Hyundai Elantra – $70/day</option>
      </select>

      <div id="totalPrice">$0.00</div>

      <button type="submit">Book via WhatsApp</button>
    </form>
  </div>

  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/12139166606" target="_blank" class="whatsapp-float">
    WhatsApp
  </a>

  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <!-- Main Script -->
  <script>
    /* Image Slider */
    const slides = document.querySelectorAll(".slide");
    let currentSlide = 0;

    setInterval(() => {
      slides[currentSlide].classList.remove("active");
      currentSlide = (currentSlide + 1) % slides.length;
      slides[currentSlide].classList.add("active");
    }, 3000);

    /* Calendar */
    flatpickr("#pickup", {
      minDate: "today",
      dateFormat: "Y-m-d"
    });

    flatpickr("#dropoff", {
      minDate: "today",
      dateFormat: "Y-m-d"
    });

    /* Price Calculation */
    const pickupInput = document.getElementById("pickup");
    const dropoffInput = document.getElementById("dropoff");
    const vehicleSelect = document.getElementById("vehicle");
    const totalPrice = document.getElementById("totalPrice");

    function calculatePrice() {
      if (!pickupInput.value || !dropoffInput.value) return;

      const pickupDate = new Date(pickupInput.value);
      const dropoffDate = new Date(dropoffInput.value);
      const days = (dropoffDate - pickupDate) / (1000 * 60 * 60 * 24);

      if (days <= 0) {
        totalPrice.textContent = "$0.00";
        return;
      }

      const pricePerDay =
        vehicleSelect.options[vehicleSelect.selectedIndex].dataset.price;

      totalPrice.textContent = $${days * pricePerDay}.00;
    }

    pickupInput.addEventListener("change", calculatePrice);
    dropoffInput.addEventListener("change", calculatePrice);
    vehicleSelect.addEventListener("change", calculatePrice);

    /* WhatsApp Booking */
    document.getElementById("bookingForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const message =
        Hello, I would like to book the ${vehicleSelect.value}  +
        from ${pickupInput.value} to ${dropoffInput.value}.  +
        Total price: ${totalPrice.textContent};

      const whatsappURL =
        https://wa.me/12139166606?text=${encodeURIComponent(message)};

      window.open(whatsappURL, "_blank");
    });
  </script>

</body>
</html>
